import{o as d,f as a,b as t,y as I,d as u,t as o,a as n,w as l,s as r,i as O,F as g,x as S,k as U,X as j,c as R}from"./app-ba05baeb.js";import{h as T,_ as B}from"./NothingToShow-ede1ea59.js";import{a as E,r as k,_ as L}from"./UserLayout-6eef3dd9.js";import{_ as $}from"./_plugin-vue_export-helper-c27b6911.js";import{_ as D}from"./PrimaryButton-c92b1233.js";import{E as A}from"./ErrorHandling-f39449d2.js";import{_ as q}from"./TextInput-88a47543.js";import"./Modal-48d1d19f.js";const C={components:{TertiaryButton:E,TrashIcon:k},props:{invite:{type:Object,required:!0},invitedUser:{type:Object,required:!0}},data(){return{csrf:document.querySelector('meta[name="csrf-token"]').getAttribute("content"),moment:T}}},F={class:"flex items-center justify-between gap-5 w-11/12 h-auto bg-gray-200 px-5 py-3 rounded-lg"},H={class:"flex flex-row gap-5 items-center"},Y={class:"",name:"INFO"},P={class:"text-sm text-black"},M={class:"",name:"CTA"},V=["action"],J=["value"],z=["value"],X=["value"];function G(e,i,s,b,y,_){const c=r("TrashIcon"),m=r("TertiaryButton");return d(),a("div",F,[t("div",H,[t("div",{class:"w-16 h-16 rounded-full hidden md:block",style:I({"background-image":" url(../../storage/"+s.invitedUser.avatar+")"}),id:"avatar"},null,4),t("div",Y,[t("h4",null,[u(o(s.invitedUser.username)+" - ",1),t("strong",null,o(s.invitedUser.name),1)]),t("p",P,o(e.$t("StudyRoomDetail.Invite.SendBy"))+" "+o(y.moment(s.invite.created_at).format("DD/MM/YYYY")),1)])]),t("div",M,[t("form",{method:"post",action:e.route("deleteInviteFromStudyRoom"),class:""},[t("input",{type:"hidden",name:"_token",value:y.csrf},null,8,J),t("input",{type:"hidden",name:"id",value:s.invite.id},null,8,z),t("input",{type:"hidden",name:"array",value:this.array},null,8,X),n(m,{type:"submit"},{default:l(()=>[n(c,{class:"w-5 h-5"})]),_:1})],8,V)])])}const K=$(C,[["render",G]]),Q={components:{TertiaryButton:E,TrashIcon:k},props:{studyroomuserInfo:{type:Object,required:!0},studyroomuser:{type:Object,required:!0}},data:()=>({csrf:document.querySelector('meta[name="csrf-token"]').getAttribute("content"),moment:T})},W={class:"flex items-center justify-between gap-5 w-11/12 h-auto bg-gray-200 px-5 py-3 rounded-lg"},Z={class:""},ee={class:"flex flex-row gap-5 items-center"},te={class:"",name:"INFO"},oe={class:"text-sm text-black"},se={class:"",name:"CTA"},ne=["action"],re=["value"],de=["value"],ae=["value"],ie=["value"];function ue(e,i,s,b,y,_){const c=r("TrashIcon"),m=r("TertiaryButton");return d(),a("div",W,[t("div",Z,[t("div",ee,[t("div",{class:"w-16 h-16 rounded-full hidden md:block",style:I({"background-image":" url(../../storage/"+s.studyroomuserInfo.avatar+")"}),id:"avatar"},null,4),t("div",te,[t("h4",null,[u(o(s.studyroomuserInfo.username)+" - ",1),t("strong",null,o(s.studyroomuserInfo.name),1)]),t("p",oe,o(e.$t("StudyRoomDetail.Invite.JoinedOn"))+" "+o(e.moment(s.studyroomuser.created_at).format("DD/MM/YYYY")),1)])])]),t("div",se,[t("form",{method:"post",action:e.route("deleteUserFromStudyRoom"),class:"bg-gray-200 p-0.30 rounded-lg"},[t("input",{type:"hidden",name:"_token",value:e.csrf},null,8,re),t("input",{type:"hidden",name:"id",value:s.studyroomuser.id},null,8,de),t("input",{type:"hidden",name:"studyroom_id",value:s.studyroomuser.study_room_id},null,8,ae),t("input",{type:"hidden",name:"user_id",value:s.studyroomuser.user_id},null,8,ie),n(m,{type:"submit"},{default:l(()=>[n(c,{class:"w-5 h-5"})]),_:1})],8,ne)])])}const le=$(Q,[["render",ue]]),ce={components:{PrimaryButton:D,TextInput:q,ErrorHandling:A},props:{studyroom:{type:Object}},methods:{UpdateError(){document.querySelectorAll(".error").forEach(e=>{e.classList.add("hidden")}),document.getElementById("name").value==""&&(document.getElementById("nameError").classList.remove("hidden"),event.preventDefault()),document.getElementById("description").value==""&&(document.getElementById("descriptionError").classList.remove("hidden"),event.preventDefault())}},data:()=>({csrf:document.querySelector('meta[name="csrf-token"]').getAttribute("content")})},me={class:"space-y-5"},pe={class:"w-full lg:w-11/12 pr-10 md:pr-0"},ye={class:"mb-3"},_e=["action"],he=["value"],ve=["value"],fe=t("input",{type:"file",name:"image",id:"image",class:"mb-3"},null,-1);function ge(e,i,s,b,y,_){const c=r("TextInput"),m=r("ErrorHandling"),h=r("PrimaryButton");return d(),a("div",me,[t("div",pe,[t("h4",ye,o(e.$t("StudyRoomDetail.UpdateStudyRoom.Title")),1),t("form",{action:e.route("editStudyRoom",s.studyroom.id),method:"post",enctype:"multipart/form-data",class:"flex flex-col"},[t("input",{type:"hidden",name:"_token",value:e.csrf},null,8,he),t("input",{type:"hidden",name:"id",value:s.studyroom.id},null,8,ve),n(c,{id:"name",type:"text",name:"name",class:"mb-3",autocomplete:"Name",placeholder:e.$t("StudyRoomDetail.UpdateStudyRoom.Name"),value:s.studyroom.name},null,8,["placeholder","value"]),n(m,{id:"nameError",class:"mb-3 hidden"},{default:l(()=>[u(o(e.$t("StudyRoomDetail.UpdateStudyRoom.Errors.Name")),1)]),_:1}),n(c,{id:"description",type:"text",class:"mb-3",name:"description",autocomplete:"Description",placeholder:e.$t("StudyRoomDetail.UpdateStudyRoom.Description"),value:s.studyroom.description},null,8,["placeholder","value"]),n(m,{id:"descriptionError",class:"mb-3 hidden"},{default:l(()=>[u(o(e.$t("StudyRoomDetail.UpdateStudyRoom.Errors.Description")),1)]),_:1}),fe,n(h,{class:"mt-3",onClick:i[0]||(i[0]=p=>_.UpdateError())},{default:l(()=>[u(o(e.$t("StudyRoomDetail.UpdateStudyRoom.Button")),1)]),_:1})],8,_e)])])}const $e=$(ce,[["render",ge]]);let f=O([]);const be={props:{studyroom:{type:Object},user:{type:Object},studyroom:{type:Object}},methods:{checkifUserisAdded(e){document.getElementById("user-"+e.id).getAttribute("added")==="true"?this.removeUserFromArray(e):this.addUserToArray(e)},addUserToArray(e){f.value.push(JSON.stringify(e)),document.getElementById("user-"+e.id).setAttribute("added","true"),document.getElementById("user-"+e.id).classList.remove("bg-gray-200"),document.getElementById("user-"+e.id).classList.add("bg-indigo-500")},removeUserFromArray(e){f.value=f.value.filter(i=>i!==JSON.stringify(e)),document.getElementById("user-"+e.id).setAttribute("added","false"),document.getElementById("user-"+e.id).classList.remove("bg-indigo-500"),document.getElementById("user-"+e.id).classList.add("bg-gray-200")},UsersError(){document.getElementById("usersError").classList.add("hidden"),f.value.length==0&&(document.getElementById("usersError").classList.remove("hidden"),event.preventDefault())}},data(){return{csrf:document.querySelector('meta[name="csrf-token"]').getAttribute("content"),users:f}},components:{PrimaryButton:D,ErrorHandling:A,NothingToShow:B}},Se=["id","onClick"],Ue={class:""},Ie={class:"flex flex-row items-center gap-2"},Ee={class:"text-sm"},we={key:0,class:""},Re=["action"],Te=["value"],Be=["value"],ke=["value"];function De(e,i,s,b,y,_){const c=r("NothingToShow"),m=r("PrimaryButton"),h=r("ErrorHandling");return d(),a(g,null,[(d(!0),a(g,null,S(e.$page.props.users,p=>(d(),a("div",null,[t("div",{id:"user-"+p.id,class:"flex items-center hover:bg-indigo-500 gap-5 w-11/12 h-auto bg-gray-200 px-5 py-3 rounded-lg cursor-pointer",onClick:w=>this.checkifUserisAdded(p),added:"false"},[t("div",{class:"w-16 h-16 rounded-full",style:I({"background-image":" url(../../storage/"+p.avatar+")"}),id:"avatar"},null,4),t("div",Ue,[t("div",Ie,[t("h3",null,o(p.username),1),u(" - "),t("h4",null,o(p.name),1)]),t("p",Ee,o(p.email),1)])],8,Se)]))),256)),e.$page.props.users.length==0?(d(),a("div",we,[n(c,{class:"w-11/12"},{default:l(()=>[u(o(e.$t("StudyRoomDetail.Users.NoUsers")),1)]),_:1})])):U("",!0),t("form",{action:e.route("addUserToStudyRoom"),method:"post"},[t("input",{type:"hidden",name:"_token",value:y.csrf},null,8,Te),t("input",{type:"hidden",name:"id",value:s.studyroom.id},null,8,Be),t("input",{type:"hidden",name:"users",value:y.users},null,8,ke),n(m,{type:"submit",class:"mt-3 w-11/12",onClick:i[0]||(i[0]=p=>_.UsersError())},{default:l(()=>[u(o(e.$t("StudyRoomDetail.Users.CTA.Invite")),1)]),_:1}),n(h,{id:"usersError",class:"hidden mt-3"},{default:l(()=>[u(o(e.$t("StudyRoomDetail.Users.Errors.Invite")),1)]),_:1})],8,Re)],64)}const Ae=$(be,[["render",De]]),Ne={components:{Head:j,Invite:K,Users:le,TertiaryButton:E,NothingToShow:B,UserLayout:L,UpdateStudyRoom:$e,UserOverview:Ae},props:{studyroom:{type:Object},studyroomInvitations:{type:Array},users:{type:Array},studyroomUsers:{type:Array}},data:()=>({csrf:document.querySelector('meta[name="csrf-token"]').getAttribute("content")})},xe={class:"grid grid-cols-12 grid-rows-2 gap-10 h-full ml-10 mt-8"},Oe={class:"row-span-2 col-span-12 md:col-span-6 spaxe-y-7"},je={class:"mt-8"},Le={class:"text-gray-500 mb-4"},qe={key:0,class:"flex justify-center placeholder:text-center w-11/12"},Ce={class:"mt-2"},Fe={class:"text-gray-500 mb-4"},He={key:1,class:"flex justify-center text-center w-11/12"},Ye={class:"row-span-1 col-span-12 md:col-span-6"},Pe={class:"flex flex-col gap-5"},Me={class:""},Ve={class:"text-gray-500"},Je={class:"flex flex-col gap-5"};function ze(e,i,s,b,y,_){const c=r("Head"),m=r("UpdateStudyRoom"),h=r("NothingToShow"),p=r("Invite"),w=r("Users"),N=r("UserOverview"),x=r("UserLayout");return d(),a(g,null,[n(c,{title:e.$page.props.studyroom.name},null,8,["title"]),n(x,null,{default:l(()=>[t("div",xe,[t("div",Oe,[n(m,{studyroom:e.$page.props.studyroom},null,8,["studyroom"]),t("div",je,[t("h4",null,o(e.$t("EditStudyRoom.Invites.Title")),1),t("p",Le,o(e.$t("EditStudyRoom.Invites.Description")),1),e.$page.props.studyroomInvitations.length===0?(d(),a("div",qe,[n(h,{class:"text-base px-10 py-5"},{default:l(()=>[u(o(e.$t("EditStudyRoom.Invites.NoInvites")),1)]),_:1})])):U("",!0),(d(!0),a(g,null,S(e.$page.props.studyroomInvitations,v=>(d(),R(p,{invite:v,invitedUser:v.user,class:"flex flex-row mb-3"},null,8,["invite","invitedUser"]))),256)),t("h4",Ce,o(e.$t("EditStudyRoom.Users.Title")),1),t("p",Fe,o(e.$t("EditStudyRoom.Users.Description")),1),e.$page.props.studyroomUsers.length===0?(d(),a("div",He,[n(h,{class:"text-base px-10 py-5"},{default:l(()=>[u(o(e.$t("EditStudyRoom.Users.NoUsers")),1)]),_:1})])):U("",!0),(d(!0),a(g,null,S(e.$page.props.studyroomUsers,v=>(d(),R(w,{class:"flex flex-row mb-3",studyroomuser:v,studyroomuserInfo:v.user},null,8,["studyroomuser","studyroomuserInfo"]))),256))])]),t("div",Ye,[t("div",Pe,[t("div",Me,[t("h4",null,o(e.$t("EditStudyRoom.InviteUsers.Title")),1),t("p",Ve,o(e.$t("EditStudyRoom.InviteUsers.Description")),1)]),t("div",Je,[n(N,{user:e.user,studyroom:e.$page.props.studyroom},null,8,["user","studyroom"])])])])])]),_:1})],64)}const ot=$(Ne,[["render",ze]]);export{ot as default};
