import{s as $,o as d,f as a,b as t,z as E,d as m,t as o,a as n,w as p,x as r,i as L,F as g,y as U,k as I,X as j,c as B}from"./app-e6672df5.js";import{h as R,_ as k}from"./NothingToShow-afdbf095.js";import{a as w,r as D,_ as q}from"./UserLayout-f990dba8.js";import{_ as b}from"./_plugin-vue_export-helper-c27b6911.js";import{_ as A}from"./PrimaryButton-7d2e4218.js";import{E as x}from"./ErrorHandling-1966c46d.js";import{_ as C}from"./TextInput-0e0513f7.js";import"./Modal-1f63d8fb.js";const H={components:{TertiaryButton:w,TrashIcon:D},props:{invite:{type:Object,required:!0},invitedUser:{type:Object,required:!0}},setup(){const{t:e}=$({});return{t:e}},data(){return{csrf:document.querySelector('meta[name="csrf-token"]').getAttribute("content"),moment:R}}},F={class:"flex items-center justify-between gap-5 w-11/12 h-auto bg-gray-200 px-5 py-3 rounded-lg"},Y={class:"flex flex-row gap-5 items-center"},P={class:"",name:"INFO"},M={class:"text-sm text-black"},V={class:"",name:"CTA"},J=["action"],z=["value"],X=["value"],G=["value"];function K(e,i,s,S,y,h){const u=r("TrashIcon"),l=r("TertiaryButton");return d(),a("div",F,[t("div",Y,[t("div",{class:"w-16 h-16 rounded-full hidden md:block",style:E({"background-image":" url(../../storage/"+s.invitedUser.avatar+")"}),id:"avatar"},null,4),t("div",P,[t("h4",null,[m(o(s.invitedUser.username)+" - ",1),t("strong",null,o(s.invitedUser.name),1)]),t("p",M,o(e.$t("StudyRoomDetail.Invite.SendBy"))+" "+o(y.moment(s.invite.created_at).format("DD/MM/YYYY")),1)])]),t("div",V,[t("form",{method:"post",action:e.route("deleteInviteFromStudyRoom"),class:""},[t("input",{type:"hidden",name:"_token",value:y.csrf},null,8,z),t("input",{type:"hidden",name:"id",value:s.invite.id},null,8,X),t("input",{type:"hidden",name:"array",value:this.array},null,8,G),n(l,{type:"submit"},{default:p(()=>[n(u,{class:"w-5 h-5"})]),_:1})],8,J)])])}const Q=b(H,[["render",K]]),W={components:{TertiaryButton:w,TrashIcon:D},props:{studyroomuserInfo:{type:Object,required:!0},studyroomuser:{type:Object,required:!0}},setup(){const{t:e}=$({});return{t:e}},data:()=>({csrf:document.querySelector('meta[name="csrf-token"]').getAttribute("content"),moment:R})},Z={class:"flex items-center justify-between gap-5 w-11/12 h-auto bg-gray-200 px-5 py-3 rounded-lg"},ee={class:""},te={class:"flex flex-row gap-5 items-center"},oe={class:"",name:"INFO"},se={class:"text-sm text-black"},ne={class:"",name:"CTA"},re=["action"],de=["value"],ae=["value"],ie=["value"],ue=["value"];function le(e,i,s,S,y,h){const u=r("TrashIcon"),l=r("TertiaryButton");return d(),a("div",Z,[t("div",ee,[t("div",te,[t("div",{class:"w-16 h-16 rounded-full hidden md:block",style:E({"background-image":" url(../../storage/"+s.studyroomuserInfo.avatar+")"}),id:"avatar"},null,4),t("div",oe,[t("h4",null,[m(o(s.studyroomuserInfo.username)+" - ",1),t("strong",null,o(s.studyroomuserInfo.name),1)]),t("p",se,o(e.$t("StudyRoomDetail.Invite.JoinedOn"))+" "+o(e.moment(s.studyroomuser.created_at).format("DD/MM/YYYY")),1)])])]),t("div",ne,[t("form",{method:"post",action:e.route("deleteUserFromStudyRoom"),class:"bg-gray-200 p-0.30 rounded-lg"},[t("input",{type:"hidden",name:"_token",value:e.csrf},null,8,de),t("input",{type:"hidden",name:"id",value:s.studyroomuser.id},null,8,ae),t("input",{type:"hidden",name:"studyroom_id",value:s.studyroomuser.study_room_id},null,8,ie),t("input",{type:"hidden",name:"user_id",value:s.studyroomuser.user_id},null,8,ue),n(l,{type:"submit"},{default:p(()=>[n(u,{class:"w-5 h-5"})]),_:1})],8,re)])])}const ce=b(W,[["render",le]]),me={components:{PrimaryButton:A,TextInput:C,ErrorHandling:x},props:{studyroom:{type:Object}},setup(){const{t:e}=$({});return{t:e}},methods:{UpdateError(){document.querySelectorAll(".error").forEach(e=>{e.classList.add("hidden")}),document.getElementById("name").value==""&&(document.getElementById("nameError").classList.remove("hidden"),event.preventDefault()),document.getElementById("description").value==""&&(document.getElementById("descriptionError").classList.remove("hidden"),event.preventDefault())}},data:()=>({csrf:document.querySelector('meta[name="csrf-token"]').getAttribute("content")})},pe={class:"space-y-5"},ye={class:"w-full lg:w-11/12 pr-10 md:pr-0"},_e={class:"mb-3"},he=["action"],ve=["value"],fe=["value"],ge=t("input",{type:"file",name:"image",id:"image",class:"mb-3"},null,-1);function $e(e,i,s,S,y,h){const u=r("TextInput"),l=r("ErrorHandling"),v=r("PrimaryButton");return d(),a("div",pe,[t("div",ye,[t("h4",_e,o(e.$t("StudyRoomDetail.UpdateStudyRoom.Title")),1),t("form",{action:e.route("editStudyRoom",s.studyroom.id),method:"post",enctype:"multipart/form-data",class:"flex flex-col"},[t("input",{type:"hidden",name:"_token",value:e.csrf},null,8,ve),t("input",{type:"hidden",name:"id",value:s.studyroom.id},null,8,fe),n(u,{id:"name",type:"text",name:"name",class:"mb-3",autocomplete:"Name",placeholder:e.$t("StudyRoomDetail.UpdateStudyRoom.Name"),value:s.studyroom.name},null,8,["placeholder","value"]),n(l,{id:"nameError",class:"mb-3 hidden"},{default:p(()=>[m(o(e.$t("StudyRoomDetail.UpdateStudyRoom.Errors.Name")),1)]),_:1}),n(u,{id:"description",type:"text",class:"mb-3",name:"description",autocomplete:"Description",placeholder:e.$t("StudyRoomDetail.UpdateStudyRoom.Description"),value:s.studyroom.description},null,8,["placeholder","value"]),n(l,{id:"descriptionError",class:"mb-3 hidden"},{default:p(()=>[m(o(e.$t("StudyRoomDetail.UpdateStudyRoom.Errors.Description")),1)]),_:1}),ge,n(v,{class:"mt-3",onClick:i[0]||(i[0]=c=>h.UpdateError())},{default:p(()=>[m(o(e.$t("StudyRoomDetail.UpdateStudyRoom.Button")),1)]),_:1})],8,he)])])}const be=b(me,[["render",$e]]);let _=L([]);const Se={props:{studyroom:{type:Object},user:{type:Object},studyroom:{type:Object}},setup(){const{t:e}=$({});return{t:e}},methods:{checkifUserisAdded(e){document.getElementById("user-"+e.id).getAttribute("added")==="true"?this.removeUserFromArray(e):this.addUserToArray(e)},addUserToArray(e){_.value.push(JSON.stringify(e)),console.log(_),document.getElementById("user-"+e.id).setAttribute("added","true"),document.getElementById("user-"+e.id).classList.remove("bg-gray-200"),document.getElementById("user-"+e.id).classList.add("bg-indigo-500")},removeUserFromArray(e){_.value=_.value.filter(i=>i!==JSON.stringify(e)),console.log(_),document.getElementById("user-"+e.id).setAttribute("added","false"),document.getElementById("user-"+e.id).classList.remove("bg-indigo-500"),document.getElementById("user-"+e.id).classList.add("bg-gray-200")},UsersError(){document.getElementById("usersError").classList.add("hidden"),_.value.length==0&&(document.getElementById("usersError").classList.remove("hidden"),document.getElementById("usersError").innerHTML=$t("StudyRoomDetail.Users.Error.Invite"),event.preventDefault())}},data(){return{csrf:document.querySelector('meta[name="csrf-token"]').getAttribute("content"),users:_}},components:{PrimaryButton:A,ErrorHandling:x,NothingToShow:k}},Ue=["id","onClick"],Ie={class:""},Ee={class:"flex flex-row items-center gap-2"},we={class:"text-sm"},Te={key:0,class:""},Be=["action"],Re=["value"],ke=["value"],De=["value"];function Ae(e,i,s,S,y,h){const u=r("NothingToShow"),l=r("PrimaryButton"),v=r("ErrorHandling");return d(),a(g,null,[(d(!0),a(g,null,U(e.$page.props.users,c=>(d(),a("div",null,[t("div",{id:"user-"+c.id,class:"flex items-center hover:bg-indigo-500 gap-5 w-11/12 h-auto bg-gray-200 px-5 py-3 rounded-lg cursor-pointer",onClick:T=>this.checkifUserisAdded(c),added:"false"},[t("div",{class:"w-16 h-16 rounded-full",style:E({"background-image":" url(../../storage/"+c.avatar+")"}),id:"avatar"},null,4),t("div",Ie,[t("div",Ee,[t("h3",null,o(c.username),1),m(" - "),t("h4",null,o(c.name),1)]),t("p",we,o(c.email),1)])],8,Ue)]))),256)),e.$page.props.users.length==0?(d(),a("div",Te,[n(u,{class:"w-11/12"},{default:p(()=>[m(o(e.$t("StudyRoomDetail.Users.NoUsers")),1)]),_:1})])):I("",!0),t("form",{action:e.route("addUserToStudyRoom"),method:"post"},[t("input",{type:"hidden",name:"_token",value:y.csrf},null,8,Re),t("input",{type:"hidden",name:"id",value:s.studyroom.id},null,8,ke),t("input",{type:"hidden",name:"users",value:y.users},null,8,De),n(l,{type:"submit",class:"mt-3 w-11/12",onClick:i[0]||(i[0]=c=>h.UsersError())},{default:p(()=>[m(o(e.$t("StudyRoomDetail.Users.CTA.Invite")),1)]),_:1}),n(v,{id:"usersError"})],8,Be)],64)}const xe=b(Se,[["render",Ae]]),Ne={components:{Head:j,Invite:Q,Users:ce,TertiaryButton:w,NothingToShow:k,UserLayout:q,UpdateStudyRoom:be,UserOverview:xe},props:{studyroom:{type:Object},studyroomInvitations:{type:Array},users:{type:Array},studyroomUsers:{type:Array}},setup(){const{t:e}=$({});return{t:e}},data:()=>({csrf:document.querySelector('meta[name="csrf-token"]').getAttribute("content")})},Oe={class:"grid grid-cols-12 grid-rows-2 gap-10 h-full ml-10 mt-8"},Le={class:"row-span-2 col-span-12 md:col-span-6 spaxe-y-7"},je={class:"mt-8"},qe={class:"text-gray-500 mb-4"},Ce={key:0,class:"flex justify-center placeholder:text-center w-11/12"},He={class:"mt-2"},Fe={class:"text-gray-500 mb-4"},Ye={key:1,class:"flex justify-center text-center w-11/12"},Pe={class:"row-span-1 col-span-12 md:col-span-6"},Me={class:"flex flex-col gap-5"},Ve={class:""},Je={class:"text-gray-500"},ze={class:"flex flex-col gap-5"};function Xe(e,i,s,S,y,h){const u=r("Head"),l=r("UpdateStudyRoom"),v=r("NothingToShow"),c=r("Invite"),T=r("Users"),N=r("UserOverview"),O=r("UserLayout");return d(),a(g,null,[n(u,{title:e.$page.props.studyroom.name},null,8,["title"]),n(O,null,{default:p(()=>[t("div",Oe,[t("div",Le,[n(l,{studyroom:e.$page.props.studyroom},null,8,["studyroom"]),t("div",je,[t("h4",null,o(e.$t("EditStudyRoom.Invites.Title")),1),t("p",qe,o(e.$t("EditStudyRoom.Invites.Description")),1),e.$page.props.studyroomInvitations.length===0?(d(),a("div",Ce,[n(v,{class:"text-base px-10 py-5"},{default:p(()=>[m(o(e.$t("EditStudyRoom.Invites.NoInvites")),1)]),_:1})])):I("",!0),(d(!0),a(g,null,U(e.$page.props.studyroomInvitations,f=>(d(),B(c,{invite:f,invitedUser:f.user,class:"flex flex-row mb-3"},null,8,["invite","invitedUser"]))),256)),t("h4",He,o(e.$t("EditStudyRoom.Users.Title")),1),t("p",Fe,o(e.$t("EditStudyRoom.Users.Description")),1),e.$page.props.studyroomUsers.length===0?(d(),a("div",Ye,[n(v,{class:"text-base px-10 py-5"},{default:p(()=>[m(o(e.$t("EditStudyRoom.Users.NoUsers")),1)]),_:1})])):I("",!0),(d(!0),a(g,null,U(e.$page.props.studyroomUsers,f=>(d(),B(T,{class:"flex flex-row mb-3",studyroomuser:f,studyroomuserInfo:f.user},null,8,["studyroomuser","studyroomuserInfo"]))),256))])]),t("div",Pe,[t("div",Me,[t("div",Ve,[t("h4",null,o(e.$t("EditStudyRoom.InviteUsers.Title")),1),t("p",Je,o(e.$t("EditStudyRoom.InviteUsers.Description")),1)]),t("div",ze,[n(N,{user:e.user,studyroom:e.$page.props.studyroom},null,8,["user","studyroom"])])])])])]),_:1})],64)}const st=b(Ne,[["render",Xe]]);export{st as default};
